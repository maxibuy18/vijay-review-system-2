<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vijay Jewellers Review</title>
    <style>
        body {font-family: system-ui; text-align: center; background: #f8f9fa; padding: 8px; margin: 0; box-sizing: border-box;}
        .box {max-width: 600px; margin: auto; background: white; padding: 16px; border-radius: 8px; box-shadow: 0 2px 8px #00000020;}
        textarea {width: 100%; height: 150px; padding: 10px; font-size: 16px; border: 1px solid #ddd; border-radius: 6px; margin: 8px 0; resize: vertical; box-sizing: border-box;}
        button {margin: 4px 0; padding: 10px; font-size: 16px; border: none; border-radius: 6px; cursor: pointer; color: white; width: 100%; box-sizing: border-box;}
        .generate {background: #ff9800; display: flex; align-items: center; justify-content: center; gap: 8px;}
        .generate-icon {font-size: 18px; cursor: pointer; transition: transform 0.2s;}
        .generate-icon:hover {transform: rotate(180deg);}
        .copy {background: #4285f4;}
        .post {background: #34a853; font-size: 17px;}
        #instruction {font-size: 13px; color: #666; margin-top: 8px; line-height: 1.4;}
        /* PC/‡§≤‡•à‡§™‡§ü‡•â‡§™ (large screen) */
        @media (min-width: 768px) {
            body {padding: 20px;}
            .box {padding: 24px; max-width: 500px; border-radius: 12px;}
            textarea {height: 160px; font-size: 16px; padding: 12px;}
            button {width: 100%; padding: 12px; font-size: 16px; margin: 4px 0;}
            .post {width: 100%; padding: 12px; font-size: 17px;}
            #instruction {font-size: 14px;}
            h1 {font-size: 24px; margin-bottom: 8px;}
        }
        /* ‡§ü‡•à‡§¨‡§≤‡•á‡§ü (medium screen) */
        @media (min-width: 481px) and (max-width: 767px) {
            .box {padding: 20px; max-width: 95%;}
            textarea {height: 140px;}
            button {padding: 11px; font-size: 16px;}
            .post {padding: 11px;}
        }
        /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ (small screen) ‚Äì Google ‡§ú‡•à‡§∏‡§æ compact */
        @media (max-width: 480px) {
            body {padding: 4px;}
            .box {padding: 12px; margin: 4px; border-radius: 6px; box-shadow: 0 1px 4px #00000020;}
            textarea {height: 100px; font-size: 14px; padding: 8px; margin: 6px 0; border-radius: 4px;}
            button {margin: 2px 0; padding: 8px; font-size: 14px;}
            .post {width: 100%; padding: 10px; font-size: 15px; margin: 4px 0;}
            #instruction {font-size: 12px; margin-top: 6px; padding: 0 4px;}
            h1 {font-size: 18px; margin-bottom: 6px;}
        }
    </style>
</head>
<body>
    <div class="box">
        <h1>Vijay Jewellers Review</h1>
        <button class="generate" id="generate-btn">
            <span class="generate-icon" onclick="generateReview()">üîÑ</span>
            Review Generate
        </button>
        <textarea id="review-text" readonly placeholder="‡§Ü‡§á‡§ï‡§® ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç..."></textarea>
        <button class="copy" onclick="copyReview()" style="display:none;" id="copy-btn">‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç</button>
        <button class="post" onclick="postToGoogle()" style="display:none;" id="post-btn">Google ‡§™‡§∞ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
        <p><small id="instruction">‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§ï‡•á Google ‡§™‡•á‡§ú ‡§™‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞ ‡§¶‡•á‡§Ç ‚Äì 5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡§æ ‡§ï‡§æ‡§Æ! ‚ù§Ô∏è</small></p>
    </div>
    <script>
        async function generateReview() {
            const language = Math.random() < 0.5 ? 'hindi' : 'english';
            try {
                const res = await fetch('/api/generate-review', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ rating: 5, language: language })
                });
                const data = await res.json();
                document.getElementById('review-text').value = data.review;
                document.getElementById('copy-btn').style.display = 'block';
                document.getElementById('post-btn').style.display = 'block';
                document.getElementById('instruction').textContent = '‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à! ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§ï‡•á Google ‡§™‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§';
            } catch {
                const fallback = language === 'english'
                    ? "Amazing experience at Vijay Jewellers! Pure gold, latest designs, very helpful staff and reasonable prices. Highly recommended!"
                    : "‡§µ‡§ø‡§ú‡§Ø ‡§ú‡•ç‡§µ‡•à‡§≤‡§∞‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§∞‡§π‡§æ! ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§∏‡•ã‡§®‡§æ, ‡§®‡§è ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§®, ‡§∏‡•ç‡§ü‡§æ‡§´ ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§¶‡§¶‡§ó‡§æ‡§∞ ‡§î‡§∞ ‡§ï‡•Ä‡§Æ‡§§ ‡§≠‡•Ä ‡§â‡§ö‡§ø‡§§‡•§ ‡§¨‡•á‡§∏‡•ç‡§ü ‡§ú‡•ç‡§µ‡•à‡§≤‡§∞‡•Ä ‡§∂‡•â‡§™!";
                document.getElementById('review-text').value = fallback;
                document.getElementById('copy-btn').style.display = 'block';
                document.getElementById('post-btn').style.display = 'block';
                document.getElementById('instruction').textContent = '‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à! ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§ï‡•á Google ‡§™‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§';
            }
        }

        function copyReview() {
            const t = document.getElementById('review-text');
            if (t.value) {
                navigator.clipboard.writeText(t.value).then(() => {
                    alert('‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
                }).catch(() => {
                    alert('‡§ï‡•â‡§™‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü, ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤‡•Ä ‡§∏‡§ø‡§≤‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡§ï‡•á ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞ ‡§≤‡•á‡§Ç‡•§');
                });
            } else {
                alert('‡§™‡§π‡§≤‡•á ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç!');
            }
        }

        function postToGoogle() {
            const t = document.getElementById('review-text');
            if (t.value) {
                navigator.clipboard.writeText(t.value).then(() => {
                    window.open('https://g.page/r/CQASqQgR4RvOEBE/review', '_blank');
                    setTimeout(() => {
                        alert('‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ! Google ‡§ï‡•á ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç (Ctrl+V ‡§Ø‡§æ ‡§≤‡•â‡§®‡•ç‡§ó ‡§™‡•ç‡§∞‡•á‡§∏ > Paste)‡•§');
                    }, 500);
                }).catch(() => {
                    alert('‡§ï‡•â‡§™‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ! ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤‡•Ä ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ Google ‡§™‡•á‡§ú ‡§ñ‡•ã‡§≤‡•á‡§Ç‡•§');
                    window.open('https://g.page/r/CQASqQgR4RvOEBE/review', '_blank');
                });
            } else {
                alert('‡§™‡§π‡§≤‡•á ‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç!');
            }
        }
    </script>
</body>
</html>
